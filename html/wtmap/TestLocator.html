<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test Locator</title>

    <script src="js/config-dev-2.3.1.js"></script>
</head>
<body>


<div id='map'></div>
<script>

    var map = new wtmap.WTMap({
        container: 'map',
//        buildingID: "05910001",
//         buildingID: "08710002",
        buildingID: "00270007",
        // floorID: "00270007F03",
        use3D: true,
        showTileBoundaries: true,
        _disableCache: true,
        _dataVersion: "v5"
    });

    map.on("locator-ready", function () {
       console.log("locator-ready");
    });

    map.on("locator-failed", function () {
        console.log("locator-failed");
    });

    // console.log(map.locator);
    // indoorLocator = map.locator;

    // var indoorLocator = new locator.IndoorLocator("00270007", "http://gis.cx9z.com/map-server/beacon/getBeaconPbf");
    // var indoorLocator = new locator.IndoorLocator("08710002", "http://gis.cx9z.com/map-server/beacon/getBeaconPbf");
    // indoorLocator.on("ready", function () {
    //     console.log("ready");
    //     var beacons = [{
    //         "uuid": "FDA50693-A4E2-4FB1-AFCF-C6EB07647825",
    //         "major": 10180,
    //         "minor": 30625,
    //         "rssi": -70,
    //         "accuracy": 1.4534
    //     }];
    //     scan(beacons);
    //
    //     // console.log(indoorLocator.getLocatingBeacons());
    //     // console.log(indoorLocator.getScannedBeacons());
    // });
    //
    // function scan(data) {
    //     var res = indoorLocator.didRangeBeacons(data);
    //     console.log(res);
    //     console.log(res.location);
    //     console.log(res.maxRssi)
    //     return res;
    // }

    map.on("error", function (error) {
        console.log(error);
    });
</script>

</body>
</html>